<%= form_with model: @user, url: profile_path, method: :patch, local: true do |form| %>
  <div class="flex flex-col w-[95%] m-auto gap-2" data-controller="profileform">
    <div class="flex flex-col">
      <%= form.label :avatar %>
      <div class="flex items-end">
        <%= image_tag @user.avatar, class: 'rounded-full w-20 h-20 object-cover', data: { profileform_target: 'preview' } %>
        <%= form.file_field :avatar, class: 'p-3',data: { profileform_target: 'input' } %>
      </div>
    </div>
    <div class="flex flex-col">
      <%= form.label :username %>
      <%= form.text_field :username, class: 'border border-gray-300 rounded-md p-2' %>
    </div>
    <div class="flex flex-col">
      <%= form.label :email %>
      <%= form.text_field :email, class: 'border border-gray-300 rounded-md p-2' %>
    </div>
    <div class="flex flex-col">
      <%= form.submit 'Actualizar', class: 'items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2' %>
    </div>
  </div>
<% end %>
