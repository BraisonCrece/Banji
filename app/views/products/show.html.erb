<div data-controller="gallery">
  <h2 class="text-4xl text-center border-b border-black "><%= @product.title %></h2>
  <div class="lg:flex lg:items-center lg:justify-center lg:w-[60rem] lg:m-auto">
    <div class="carrusel w-[98%] m-auto">
      <div class="flex gap-4 items-center m-auto w-[<%= @product.images.count %>00%] h-[23rem] sm:w-[33rem] sm:h-[33rem] overflow-x-scroll overflow-y-hidden snap-mandatory snap-x mt-8 mb-3 rounded" data-gallery-target="images_gallery">
        <% @product.images.each do |image| %>
          <%= image_tag image, class: "min-w-[100%/#{@product.images.count}] min-h-[23rem] sm:min-w-[33rem] sm:min-h-[33rem] rounded-lg flex justify-center items-center snap-center object-cover object-center touch-pan-x cursor-grab select-none" if @product.images.attached? %>
        <% end %>
      </div>
    </div>
    <ul class='scroll_btn flex gap-2 justify-center mb-3'>
      <% @product.images.each do |image| %>
        <li class="w-[1em] h-[1em] border-orange-900 border-2 rounded-full" data-gallery-target="point"></li>
      <% end %>
    </ul>
  </div>
  <div class="rounded-lg bg-slate-50 p-4 w-[23rem] sm:w-[46rem] m-auto flex justify-between">
    <p class="text-lg"><%= @product.description %></p>
    <div class="flex flex-col items-end gap-2">
      <%= render partial: 'favorite', locals: { product: @product } %>
      <p class="inline h-fit p-4 bg-slate-200 rounded-xl text-slate-600 font-semibold text-3xl"><%= @product.price %><sup>â‚¬</sup></p>
    </div>
  </div>
  <div class="mb-12 w-[23rem] sm:w-[46rem] m-auto">
    <%= link_to t('.edit'), edit_product_path(@product) if @product.owner? %>
    <%= link_to t('.delete'), product_path(@product), data: { turbo_method: :delete, turbo_confirm: t('common.delete_confirm')} if @product.owner? %>
    <%= link_to t('.view_more_products', username: @product.user.username ), user_path(@product.user.username), class: "hover:text-red-600 text-xl" %>
  </div>
</div>
